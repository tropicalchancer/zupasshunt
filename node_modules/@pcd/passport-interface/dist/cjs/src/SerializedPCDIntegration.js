"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useSerializedPCD = void 0;
const react_1 = require("react");
function useSerializedPCD(proofPackage, serializedPCD) {
    const [pcd, setPCD] = (0, react_1.useState)();
    (0, react_1.useEffect)(() => {
        if (serializedPCD) {
            const parsedPCD = JSON.parse(decodeURIComponent(serializedPCD));
            if (parsedPCD.type !== proofPackage.name) {
                return;
            }
            proofPackage.deserialize(parsedPCD.pcd).then((pcd) => {
                setPCD(pcd);
            });
        }
    }, [proofPackage, serializedPCD, setPCD]);
    return pcd;
}
exports.useSerializedPCD = useSerializedPCD;
